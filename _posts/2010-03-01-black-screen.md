---
layout: post
title: 黑屏记
category: Tech
tags:
- Linux
- 黑屏
published: true
comments: true
---

一个月前，在升级一次系统之后，我惊奇地发现我的 ArchLinux 出问题了。症状如下：开机之后，当系统执行到启动 Daemon 程序这一步的时候，屏幕直接变黑了（有人说，这是 Linux 在检验系统是否正版 ^^ ），但是键盘输入正常，也可以在其它机器上通过 `ssh` 登录。

这是个非常奇怪的问题，不过我敢肯定的是，肯定与更新的某个程序相关（既然是显示出了问题，会不会是显卡驱动在作怪呢）。Google 搜索无果之后，本着“生命不止，折腾不休”的精神，我重装了系统。出人意料的是，在只安装了基本系统（没有 X ，没有显卡驱动）的情况下，只要一更新软件，重启，问题依旧。这样看来，十有八九是新 Kernel 的问题啦～

经过多次尝试，我发现只要在内核启动选项中添加 `acpi=off` 这个参数，就能暂时解决这个问题。`acpi` 是和电源管理有关的，当被禁用之后，我发现了两个后遗症。一个是不管执行 `$ sudo shutdown -h now` 还是 `$ sudo poweroff` 来试图关机，系统退出后只能到达 `halt` 这个状态，而不能把电源关掉。另外一个是不能调节系统对电源相关事件的反应，比如按一下电源键就关机，把显示屏合上就直接待机。

我三年前的机器，不会因为太老了以至不被 Linux 支持了吧 :) Kernel 2.6.33 已经 release 了，期待下次更新内核能让我的小本正常工作。
